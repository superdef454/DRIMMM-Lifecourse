# Здесь будет приложение, которое сделает команда drimmm

## Запуск

Для запуска приложения используйте следующую команду:

```bash
docker-compose up -d --build
```
После успешного выполнения этой команды приложение будет доступно по адресу: [localhost:8080](http://127.0.0.1:8080/)

[Swagger](http://127.0.0.1:8080/api/docs)

### Структура

>Приложение имеет микросервисную архитектуру.
> Каждый сервис имеет отдельный Docker-файл и точку входа(entrypoint).
Для каждого сервиса настроена многоэтапная сборка: 
> сборка самого сервиса и зависимостей;
> сборка и запуск модульных тестов;
> сборка и запуск healthcheck'a.


## Наполнение данными

### Публикации

0. Выполнить `poetry install` (только при первом запуске)
1. Добавить одно или больше типов событий в БД (берём случайное из всех доступных)
2. Добавить токен (VK_TOKEN) в `.env` файл или передать при запуске
3. Запустить скрипт `poetry run grab-publications`

### Пользователи

0. Выполнить `poetry install` (только при первом запуске)
1. Добавить одно или больше типов событий в БД (берём случайное из всех доступных)
2. Добавить токен (VK_TOKEN) и настройки доступа к KeyCloak (KEYCLOAK_URL + KEYCLOAK_TOKEN) в `.env` файл или передать при запуске
3. Запустить скрипт `poetry run grab-users`

### Пользователи

0. Выполнить `poetry install` (только при первом запуске)
1. Добавить одно или больше типов событий в БД (берём случайное из всех доступных)
2. Добавить токен (VK_TOKEN) в `.env` файл или передать при запуске
3. Запустить скрипт `poetry run grab-universities`
